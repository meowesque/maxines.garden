---
import { type CollectionEntry, getCollection, render } from 'astro:content';
import GardenEntry from '../../layouts/GardenEntry.astro';

export async function getStaticPaths() {
	const entries = await getCollection('entries');
	return entries.map((entry) => ({
		params: { slug: entry.id },
		props: entry,
	}));
}

const thing = Astro.props.data;

type Props = CollectionEntry<'entries'>;

const entry = Astro.props;
const { Content, headings } = await render(entry);
---

<GardenEntry {...entry.data} headings={headings}>
	<Content />
</GardenEntry>
